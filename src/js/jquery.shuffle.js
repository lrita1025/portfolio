;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document);(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);(function($,Modernizr,undefined){'use strict';$.fn.sorted=function(options){var opts=$.extend({},$.fn.sorted.defaults,options),arr=this.get(),revert=false;if(!arr.length){return[];}if(opts.randomize){return $.fn.sorted.randomize(arr);}if(opts.by!==$.noop&&opts.by!==null&&opts.by!==undefined){arr.sort(function(a,b){if(revert){return 0;}var valA=opts.by($(a)),valB=opts.by($(b));if(valA===undefined&&valB===undefined){revert=true;return 0;}if(valA==='sortFirst'||valB==='sortLast'){return-1;}if(valA==='sortLast'||valB==='sortFirst'){return 1;}return(valA<valB)?-1:(valA>valB)?1:0;});}if(revert){return this.get();}if(opts.reverse){arr.reverse();}return arr;};$.fn.sorted.defaults={reverse:false,by:null,randomize:false};$.fn.sorted.randomize=function(array){var top=array.length,tmp,current;if(!top){return array;}while(--top){current=Math.floor(Math.random()*(top+1));tmp=array[current];array[current]=array[top];array[top]=tmp;}return array;};var id=0;function getCssPrefix(prop){if(!prop){return'';}return prop.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase();}).replace(/^ms-/,'-ms-');}var TRANSITION=Modernizr.prefixed('transition');var TRANSITION_DELAY=Modernizr.prefixed('transitionDelay');var TRANSITION_DURATION=Modernizr.prefixed('transitionDuration');var TRANSITIONEND={'WebkitTransition':'webkitTransitionEnd','transition':'transitionend'}[TRANSITION];var TRANSFORM=Modernizr.prefixed('transform');var CSS_TRANSFORM=getCssPrefix(TRANSFORM);var CAN_TRANSITION_TRANSFORMS=Modernizr.csstransforms&&Modernizr.csstransitions;var HAS_TRANSFORMS_3D=Modernizr.csstransforms3d;var SHUFFLE='shuffle';var Shuffle=function($container,options){var self=this;$.extend(self,Shuffle.options,options,Shuffle.settings);self.$container=$container;self.$window=$(window);self.unique='shuffle_'+id++;self._fire('loading');self._init();self._fire('done');};Shuffle.prototype={_init:function(){var self=this,containerCSS,resizeFunction=$.proxy(self._onResize,self),debouncedResize=self.throttle?self.throttle(self.throttleTime,resizeFunction):resizeFunction,sort=self.initialSort?self.initialSort:null;self._setVars();self._resetCols();self._addClasses();self._initItems();self.$window.on('resize.'+SHUFFLE+'.'+self.unique,debouncedResize);containerCSS=self.$container.css(['paddingLeft','paddingRight','position','width']);if(containerCSS.position==='static'){self.$container[0].style.position='relative';}self.offset={left:parseInt(containerCSS.paddingLeft,10)||0,top:parseInt(containerCSS.paddingTop,10)||0};self._setColumns(parseInt(containerCSS.width,10));self.shuffle(self.group,sort);if(self.supported){setTimeout(function(){self._setTransitions();self.$container[0].style[TRANSITION]='height '+self.speed+'ms '+self.easing;},0);}},_addClasses:function(){var self=this;self.$container.addClass(SHUFFLE);self.$items.addClass('shuffle-item filtered');return self;},_setVars:function(){var self=this;self.$items=self._getItems();self.isFluid=self.columnWidth&&typeof self.columnWidth==='function';if(self.columnWidth===0&&self.sizer!==null){self.columnWidth=self.sizer;}if(typeof self.columnWidth==='string'){self.$sizer=self.$container.find(self.columnWidth);}else if(self.columnWidth&&self.columnWidth.nodeType&&self.columnWidth.nodeType===1){self.$sizer=$(self.columnWidth);}else if(self.columnWidth&&self.columnWidth.jquery){self.$sizer=self.columnWidth;}if(self.$sizer&&self.$sizer.length){self.useSizer=true;self.sizer=self.$sizer[0];}return self;},_filter:function(category,$collection){var self=this,isPartialSet=$collection!==undefined,$items=isPartialSet?$collection:self.$items,$filtered=$();category=category||self.lastFilter;self._fire('filter');if($.isFunction(category)){$items.each(function(){var $item=$(this),passes=category.call($item[0],$item,self);if(passes){$filtered=$filtered.add($item);}});}else{self.group=category;if(category!=='all'){$items.each(function(){var $this=$(this),groups=$this.data('groups'),keys=self.delimeter&&!$.isArray(groups)?groups.split(self.delimeter):groups,passes=$.inArray(category,keys)>-1;if(passes){$filtered=$filtered.add($this);}});}else{$filtered=$items;}}self._toggleFilterClasses($items,$filtered);$items=null;$collection=null;return $filtered;},_toggleFilterClasses:function($items,$filtered){var concealed='concealed',filtered='filtered';$items.filter($filtered).each(function(){var $filteredItem=$(this);if($filteredItem.hasClass(concealed)){$filteredItem.removeClass(concealed);}if(!$filteredItem.hasClass(filtered)){$filteredItem.addClass(filtered);}});$items.not($filtered).each(function(){var $filteredItem=$(this);if(!$filteredItem.hasClass(concealed)){$filteredItem.addClass(concealed);}if($filteredItem.hasClass(filtered)){$filteredItem.removeClass(filtered);}});},_initItems:function($items){$items=$items||this.$items;return $items.css(this.itemCss);},_updateItemCount:function(){this.visibleItems=this.$items.filter('.filtered').length;return this;},_setTransition:function(element){var self=this;element.style[TRANSITION]=CSS_TRANSFORM+' '+self.speed+'ms '+self.easing+', opacity '+self.speed+'ms '+self.easing;return element;},_setTransitions:function($items){var self=this;$items=$items||self.$items;$items.each(function(){self._setTransition(this);});return self;},_setSequentialDelay:function($collection){var self=this;if(!self.supported){return;}$.each($collection,function(i){this.style[TRANSITION_DELAY]='0ms,'+((i+1)*self.sequentialFadeDelay)+'ms';$(this).one(TRANSITIONEND,function(){this.style[TRANSITION_DELAY]='0ms';});});},_getItems:function(){return this.$container.children(this.itemSelector);},_getPreciseDimension:function(element,style){var dimension;if(window.getComputedStyle){dimension=window.getComputedStyle(element,null)[style];}else{dimension=$(element).css(style);}return parseFloat(dimension);},_setColumns:function(theContainerWidth){var self=this,containerWidth=theContainerWidth||self.$container.width(),gutter=typeof self.gutterWidth==='function'?self.gutterWidth(containerWidth):self.useSizer?self._getPreciseDimension(self.sizer,'marginLeft'):self.gutterWidth,calculatedColumns;self.colWidth=self.isFluid?self.columnWidth(containerWidth):self.useSizer?self._getPreciseDimension(self.sizer,'width'):self.columnWidth||self.$items.outerWidth(true)||containerWidth;self.colWidth=self.colWidth||containerWidth;self.colWidth+=gutter;calculatedColumns=(containerWidth+gutter)/self.colWidth;if(Math.ceil(calculatedColumns)-calculatedColumns<0.01){calculatedColumns=Math.ceil(calculatedColumns);}self.cols=Math.floor(calculatedColumns);self.cols=Math.max(self.cols,1);self.containerWidth=containerWidth;},_setContainerSize:function(){var self=this,gridHeight=Math.max.apply(Math,self.colYs);self.$container.css('height',gridHeight+'px');},_fire:function(name,args){this.$container.trigger(name+'.'+SHUFFLE,args&&args.length?args:[this]);},_layout:function(items,fn,isOnlyPosition,isHide){var self=this;fn=fn||self.filterEnd;self.layoutTransitionEnded=false;$.each(items,function(index){var $this=$(items[index]),colSpan=Math.ceil($this.outerWidth(true)/self.colWidth);colSpan=Math.min(colSpan,self.cols);if(colSpan===1){self._placeItem($this,self.colYs,fn,isOnlyPosition,isHide);}else{var groupCount=self.cols+1-colSpan,groupY=[],groupColY,i;for(i=0;i<groupCount;i++){groupColY=self.colYs.slice(i,i+colSpan);groupY[i]=Math.max.apply(Math,groupColY);}self._placeItem($this,groupY,fn,isOnlyPosition,isHide);}});self._processStyleQueue();self._setContainerSize();},_resetCols:function(){var i=this.cols;this.colYs=[];while(i--){this.colYs.push(0);}},_reLayout:function(callback,isOnlyPosition){var self=this;callback=callback||self.filterEnd;self._resetCols();if(self.keepSorted&&self.lastSort){self.sort(self.lastSort,true,isOnlyPosition);}else{self._layout(self.$items.filter('.filtered').get(),self.filterEnd,isOnlyPosition);}},_placeItem:function($item,setY,callback,isOnlyPosition,isHide){var self=this,minimumY=Math.min.apply(Math,setY),shortCol=0;for(var i=0,len=setY.length;i<len;i++){if(setY[i]>=minimumY-self.buffer&&setY[i]<=minimumY+self.buffer){shortCol=i;break;}}var x=self.colWidth*shortCol,y=minimumY;x=Math.round(x+self.offset.left);y=Math.round(y+self.offset.top);$item.data({x:x,y:y});var setHeight=minimumY+$item.outerHeight(true),setSpan=self.cols+1-len;for(i=0;i<setSpan;i++){self.colYs[shortCol+i]=setHeight;}var transitionObj={from:'layout',$this:$item,x:x,y:y,scale:1};if(isOnlyPosition){transitionObj.skipTransition=true;}else{transitionObj.opacity=1;transitionObj.callback=callback;}if(isHide){transitionObj.opacity=0;}self.styleQueue.push(transitionObj);},_shrink:function($collection,fn){var self=this,$concealed=$collection||self.$items.filter('.concealed'),transitionObj={},callback=fn||self.shrinkEnd;if(!$concealed.length){return;}self._fire('shrink');self.shrinkTransitionEnded=false;$concealed.each(function(){var $this=$(this),data=$this.data();transitionObj={from:'shrink',$this:$this,x:data.x,y:data.y,scale:0.001,opacity:0,callback:callback};self.styleQueue.push(transitionObj);});},_onResize:function(){var self=this,containerWidth;if(!self.enabled||self.destroyed){return;}containerWidth=self.$container.width();if(containerWidth===self.containerWidth){return;}self.resized();},transition:function(opts){var self=this,transform,complete=function(){if(!self.layoutTransitionEnded&&opts.from==='layout'){self._fire('layout');opts.callback.call(self);self.layoutTransitionEnded=true;}else if(!self.shrinkTransitionEnded&&opts.from==='shrink'){opts.callback.call(self);self.shrinkTransitionEnded=true;}};opts.callback=opts.callback||$.noop;if(self.supported){if(opts.scale===undefined){opts.scale=1;}if(HAS_TRANSFORMS_3D){transform='translate3d('+opts.x+'px, '+opts.y+'px, 0) scale3d('+opts.scale+', '+opts.scale+', 1)';}else{transform='translate('+opts.x+'px, '+opts.y+'px) scale('+opts.scale+', '+opts.scale+')';}if(opts.x!==undefined){opts.$this.css(TRANSFORM,transform);}if(opts.opacity!==undefined){opts.$this.css('opacity',opts.opacity);}opts.$this.one(TRANSITIONEND,complete);}else{var cssObj={left:opts.x,top:opts.y,opacity:opts.opacity};opts.$this.stop(true).animate(cssObj,self.speed,'swing',complete);}},_processStyleQueue:function(){var self=this,queue=self.styleQueue;$.each(queue,function(i,transitionObj){if(transitionObj.skipTransition){self._skipTransition(transitionObj.$this[0],function(){self.transition(transitionObj);});}else{self.transition(transitionObj);}});self.styleQueue.length=0;},shrinkEnd:function(){this._fire('shrunk');},filterEnd:function(){this._fire('filtered');},sortEnd:function(){this._fire('sorted');},_skipTransition:function(element,property,value){var reflow,duration=element.style[TRANSITION_DURATION];element.style[TRANSITION_DURATION]='0ms';if($.isFunction(property)){property();}else{element.style[property]=value;}reflow=element.offsetWidth;element.style[TRANSITION_DURATION]=duration;},_addItems:function($newItems,animateIn,isSequential){var self=this,$passed,passed;if(!self.supported){animateIn=false;}$newItems.addClass('shuffle-item');self._initItems($newItems);self._setTransitions($newItems);self.$items=self._getItems();$newItems.css('opacity',0);$passed=self._filter(undefined,$newItems);passed=$passed.get();self._updateItemCount();if(animateIn){self._layout(passed,null,true,true);if(isSequential){self._setSequentialDelay($passed);}self._revealAppended($passed);}else{self._layout(passed);}},_revealAppended:function($newFilteredItems){var self=this;setTimeout(function(){$newFilteredItems.each(function(i,el){self.transition({from:'reveal',$this:$(el),opacity:1});});},self.revealAppendedDelay);},shuffle:function(category,sortObj){var self=this;if(!self.enabled){return;}if(!category){category='all';}self._filter(category);self.lastFilter=category;self._updateItemCount();self._resetCols();self._shrink();if(sortObj){self.lastSort=sortObj;}self._reLayout();},sort:function(opts,fromFilter,isOnlyPosition){var self=this,items=self.$items.filter('.filtered').sorted(opts);if(!fromFilter){self._resetCols();}self._layout(items,function(){if(fromFilter){self.filterEnd();}self.sortEnd();},isOnlyPosition);self.lastSort=opts;},resized:function(isOnlyLayout){if(this.enabled){if(!isOnlyLayout){this._setColumns();}this._reLayout();}},layout:function(){this.update(true);},update:function(isOnlyLayout){this.resized(isOnlyLayout);},appended:function($newItems,animateIn,isSequential){animateIn=animateIn===false?false:true;isSequential=isSequential===false?false:true;this._addItems($newItems,animateIn,isSequential);},disable:function(){this.enabled=false;},enable:function(isUpdateLayout){this.enabled=true;if(isUpdateLayout!==false){this.update();}},remove:function($collection){if(!$collection.length||!$collection.jquery){return;}var self=this;self._shrink($collection,function(){var shuffle=this;$collection.remove();setTimeout(function(){shuffle.$items=shuffle._getItems();shuffle.layout();shuffle._updateItemCount();shuffle._fire('removed',[$collection,shuffle]);$collection=null;},0);});self._processStyleQueue();return self;},destroy:function(){var self=this;self.$window.off('.'+self.unique);self.$container.removeClass(SHUFFLE).removeAttr('style').removeData(SHUFFLE);self.$items.removeAttr('style').removeClass('concealed filtered shuffle-item');self.$window=null;self.$items=null;self.$container=null;self.$sizer=null;self.sizer=null;self.destroyed=true;}};Shuffle.options={group:'all',speed:550,easing:'ease-out',itemSelector:'',sizer:null,gutterWidth:80,columnWidth:75,delimeter:null,buffer:0,initialSort:null,throttle:$.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:CAN_TRANSITION_TRANSFORMS};Shuffle.settings={$sizer:null,useSizer:false,itemCss:{position:'absolute',top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:true,enabled:true,destroyed:false,styleQueue:[]};$.fn.shuffle=function(opts){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),shuffle=$this.data(SHUFFLE);if(!shuffle){shuffle=new Shuffle($this,opts);$this.data(SHUFFLE,shuffle);}if(typeof opts==='string'&&shuffle[opts]){shuffle[opts].apply(shuffle,args);}});};})(jQuery,Modernizr);